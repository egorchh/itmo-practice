# Отчет о проделанной работе

## Архитектура приложения

Проект реализован как полноценное веб-приложение с клиент-серверной архитектурой:
- Клиентская часть находится по пути ./client
- Серверная часть находится по пути ./server

## Использованные технологии

### Backend
1. **Node.js + Express**
  - Быстрая разработка REST API
  - Большая экосистема пакетов
  - Легкое развертывание на различных платформах

2. **JSON Storage**
  - Простота реализации для небольших наборов данных
  - Удобство версионирования через Git
  - Возможность легкой миграции на СУБД при необходимости

3. **Docker**
  - Стандарт де-факто для контейнеризации
  - Простота развертывания
  - Воспроизводимость окружения

### Frontend
1. **React + TypeScript**
  - Типобезопасность кода
  - Компонентный подход
  - Большое community и готовые решения

2. **React Flow**
  - Специализированная библиотека для визуализации графов
  - Богатый набор готовых компонентов
  - Поддержка интерактивности
  - Красивая стилизация нод и связей из коробки

3. **Vite**
  - Быстрая сборка
  - Современный инструментарий
  - Оптимизация для production
  - Обширное комьюнити

## Функциональность приложения

### Глоссарий
![Страница глоссария](https://github.com/user-attachments/assets/186c6b66-ad8f-4341-ae31-2562bc83e9d4)

Страница глоссария предоставляет:
- Список всех терминов с определениями и ссылками на источники

### Семантический граф (MindMap)
![Страница с MindMap](https://github.com/user-attachments/assets/7f3fcc6b-3086-430c-9a84-dad86b4b3f63)

MindMap визуализирует:
- Термины в виде нод графа
- Связи между терминами

### Обработка ошибок
![Обработка ошибок](https://github.com/user-attachments/assets/d1681199-46a9-4f29-870c-1e28b478e59a)

Реализована возможность:
- Отрисовать моковые данные, соответствующие реальным в случае ошибки загрузки
- Повторить запрос

## API Endpoints

### GET /glossary
Получение списка всех терминов

```bash
curl https://itmo-practice-2b013173d1a7.herokuapp.com/glossary
```

Пример ответа:
```json
{ 
  "data": [
    {
      "id": 1,
      "term": "Термин",
      "definition": "Описание термина",
      "source": {
        "name": "Название источника",
        "url": "Ссылка на источник"
      }
    },
    ...
  ]
}
```

Есть также возможность получить на сервере конкретный термин по названию:

```bash
curl https://itmo-practice-2b013173d1a7.herokuapp.com/glossary?term=Стартап
```

Пример ответа:
```json
{
  "id": 1,
  "term": "Термин",
  "definition": "Описание термина",
  "source": {
    "name": "Название источника",
    "url": "Ссылка на источник"
  }
}
```

### GET /mind-map
Получение данных для построения семантического графа

```bash
curl https://itmo-practice-2b013173d1a7.herokuapp.com/mind-map
```

Пример ответа:
```json
{
  "nodes": [
    {
			"id": "1",
			"term": "Стартап",
			"definition": "Компания с короткой историей операционной деятельности. Термин впервые использован Forbes в августе 1976 года и Business Week в сентябре 1977 года для обозначения компаний с короткой историей операционной деятельности.",
			"coordinate": {
				"x": 0,
				"y": 0
			}
		}
    ...
  ],
  "links": [
    {
			"source": "1",
			"target": "3",
			"relation": "является этапом"
		}
  ]
}
```

## CI/CD

Проект использует GitHub Actions для автоматизации процессов разработки и деплоя.

### Автоматический деплой на Heroku

Настроен автоматический деплой серверной части приложения на Heroku при каждом push в ветку main:
- Триггерится только при изменениях в папке `server/`
- Использует GitHub Actions и Heroku CLI
- Деплой происходит через git subtree
- Конфигурация находится в `.github/workflows/heroku-deploy.yml`

Процесс деплоя включает:
1. Установку Node.js и зависимостей
2. Аутентификацию в Heroku через API ключ
3. Деплой серверной части через git subtree

Для безопасности все чувствительные данные (API ключи, email) хранятся в GitHub Secrets.

## Структура данных:

### Глоссарий
```typescript
type GlossaryTerm = {
	id: number;
	term: string;
	definition: string;
	source: Source;
}
```

### MindMap
```typescript
type MindMapNode = {
	id: string;
	term: string;
	definition: string;
	coordinate: MindMapNodeCoords;
}

type MindMapEdge = {
	source: string;
	target: string;
	relation: string;
	marker?: string;
}
```
